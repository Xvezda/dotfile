" Set numbers
set number
set numberwidth=5
set relativenumber

" Performance
set lazyredraw
set ttyfast

" Emmet plugin prefix to ctrl-z
let g:user_emmet_leader_key='<C-z>'

" Set fold
set foldmethod=marker
set foldopen+=jump

" Setup Fastfold plugin
let g:fastfold_savehook = 1
let g:fastfold_fold_command_suffixes =  ['x','X','a','A','o','O','c','C']
let g:fastfold_fold_movement_commands = [']z', '[z', 'zj', 'zk']

" Set persistaent undo file path
if has("persistent_undo")
    set undodir=~/.undodir/
    set undofile
endif

" Close NERDTree after open file
let NERDTreeQuitOnOpen = 1

" Theme settings
let g:jellybeans_overrides = {
\    'background': { 'ctermbg': 'none', '256ctermbg': 'none' },
\}
let g:tmuxline_theme = 'jellybeans'
let g:lightline = {
\ 'colorscheme': 'jellybeans',
\ }
colorscheme jellybeans

" Limits string
set colorcolumn=72
highlight ColorColumn ctermbg=236 guibg=#333333

" Highlight characters over 79
" https://stackoverflow.com/a/10993757
augroup vimrc_autocmds
  highlight link OverLength Error
  let b:match_overlength_id = matchadd('OverLength', '\%79v.\+')
augroup END

" Add more contrast to visual mode
"highlight Visual term=reverse cterm=reverse

" C indent options
autocmd FileType c setlocal cinoptions+=:0

" C++ indent to 2 spaces.
autocmd FileType cpp setlocal tabstop=2 shiftwidth=2 softtabstop=2 expandtab
            \ cinoptions+=g0

" Java indent to 2 spaces.
autocmd FileType java setlocal colorcolumn=100
            \ tabstop=2 shiftwidth=2 softtabstop=2 expandtab
            \ | call matchdelete(b:match_overlength_id)

" Javascript indent to 2 spaces.
autocmd FileType javascript setlocal tabstop=2 shiftwidth=2 softtabstop=2 expandtab
autocmd FileType json setlocal tabstop=2 shiftwidth=2 softtabstop=2 expandtab
autocmd FileType jst setlocal tabstop=2 shiftwidth=2 softtabstop=2 expandtab

" Override vim-bootstrap default python colorcolumn value to 72
" https://www.python.org/dev/peps/pep-0008/#maximum-line-length
autocmd FileType python setlocal colorcolumn=72
            \ tabstop=4 shiftwidth=4 softtabstop=4 expandtab
            \ foldnestmax=2 foldmethod=indent
            \ completeopt-=preview

" Enable vim python3 annotation
let g:syntastic_python_python_exec = 'python3'

" Enable C++14 support
let g:syntastic_cpp_compiler_options = '-std=c++14'


" vim:ft=vim
